import Head from 'next/head'
// import Image from 'next/image'
import styles1 from '../styles/Home.module.css'
import Navbar from '../Components/Navbar/nav'
import SideBar from './SideNavBar/sideNav'
import { BsCart2 } from 'react-icons/bs';
import Link from 'next/link';
import Foot from "./Footer/Footer"
import { getSession, signOut, useSession } from 'next-auth/react'

export default function index() {
  const { data: session, status } = useSession()

  if (status === 'loading') {
    return <>Loading...</>
  }

  if (status === 'authenticated') {
    return (
      <>
        Signed in as {session.user.email} <br />
        <button onClick={() => signOut()}>Sign out</button>
      </>
    )
  }
  if (status === 'unauthenticated') {
    return (
      <>
        Not signed in <br />
        <Link href='/api/auth/signin'>
          <a>Login</a>
        </Link>
      </>
    )
  }

  return (
    <div >
      <Head>
        <title>Ject Jobe</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      
      <Navbar/>
      <SideBar/>
        <div className={styles1.card}>
          <div className={styles1.card_img}></div>
            <div className={styles1.card_info}>
              <p className={styles1.text_title}>Product title </p>
              <p className={styles1.text_body}>Product description and details</p>
            </div>
            <div className={styles1.card_footer}>
            <span className={styles1.text_title}>$499.49</span>
            <div className={styles1.card_button}>
            <Link href="#"><BsCart2/></Link>
            </div>
          </div>
        </div>
       <Foot/>
    </div>
 
  )
  }
  export const getServerSideProps = async ctx => {
    // Check if the user is authenticated from the server
    const session = await getSession(ctx)
    console.log({ session })
    return {
      props: {
        session
      }
    }
  }